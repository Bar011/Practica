@page "/editar/comuna/{idComuna:int}"
@inject HttpClient Http
@inject NavigationManager UriHelper

<FormularioComuna TextoBoton="Editar Comuna" OnValidSubmit="@EditarComunaNueva" Comuna="@comuna" />

@code {

    [Parameter] public int idComuna { get; set; }

    Comuna comuna = new Comuna();

    protected async override Task OnParametersSetAsync()
    {
        comuna = await Http.GetFromJsonAsync<Comuna>($"api/comuna/get/{idComuna}");
    }

    async Task EditarComunaNueva()
    {
        await Http.PutAsJsonAsync($"api/comuna/edit/{idComuna}", comuna);
        UriHelper.NavigateTo("comuna/index");
    }

}